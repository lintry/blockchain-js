# BlockChain

nodejs模拟区块链概念

## 区块定义

+ index：当前区块在链中的位置
+ prev_hash：上一个区块的Hash
+ timestamp：区块的创建时间戳
+ data = data：区块的内容
+ nonce = nonce：计算一个有效Hash所用的次数
+ hash = hash：区块的hash = sha256([index,prev_hash,timestamp,data,nonce].sort.join(''))

## 区块链定义

- 区块链是一个数组，首个区块必须从一个创世区块开始
- 每个区块的index对应在数组中的index
- 除创世区块外，每个区块的prev_hash和上一个区块的hash值相同
- index的存在决定了链的长度有限，即区块的数量有限
- 为了保证Hash的计算难度，定义Hash的至少前4位必须是0，以此作为工作量证明
- 添加新的区块或多个区块，必须保证这些区块可以满足上述几点的要求才能被添加到当前链中
- 如果有一个基于相同创世块的区块链，如果长度大于当前链，并且在通过了上述几点的验证后，可以覆盖替换掉当前的链

## 下一个问题

- 怎样分叉？
- 怎样实现从一个区块并发后，产生多个链，解决唯一性的问题（最先达到6个区块的链保留，其余丢弃）
- ​